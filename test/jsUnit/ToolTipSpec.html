<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="utf-8">
    <script src="../../lib/jquery-2.0.3.js"></script>
    <script src="vendor/mocha.js"></script>
    <script src="vendor/require.js"></script>
    <script src="config.js"></script>
</head>
<body>
<!--PLACEHOLDER FOR MOCHA TEST RESULTS-->
<div id="mocha"></div>

<!--FIXTURE HTML FOR TESTS-->
<div class="skycom-container main">
    <a id="testLink" data-tooltip-content-id="testToolTip" title="tool tip message">Record</a>
    <div id="testToolTip">Tool tip message in div</div>
</div>

<!--TEST-->
<script>
    require(['modules/tooltip',
        '../../test/jsUnit/setup'], function (tooltip) {

        describe('Tooltip shows and disappears', function () {

            it('Tooltip shows on mouse over', function (done) {
                $('#testLink').trigger('mouseenter');
                expect($('#testToolTip').is(":visible")).to.be.true;
                expect($('#testToolTip').attr('class')).to.be.equal('tltp','tltp class not added to tooltip content');
                done();
            });

            it('Tooltip disappears on mouse leave with a minimum visible time', function (done) {
                $('#testLink').trigger('mouseleave');
                setTimeout(function() {
                    expect($('#testToolTip').is(":visible")).to.be.false;
                    done();
                }, 1900);
            });

        });
        mocha.run();
    });
</script>

</body>
</html>