{"version":3,"file":"wiki.js","sources":["utils/skycons.js","utils/hashmanager.js","utils/popup.js","modules/tabs.js","modules/share.js","modules/carousel.js","toolkit.js"],"names":[],"mappings":"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","sourcesContent":["\n/**\n purpose:\n Needed for IE7\n **/\nif (typeof toolkit==='undefined') toolkit={};\ntoolkit.skycons = (function() {\n    var icons = {\n        'skycon-sky' : \"&#xf100;\",\n        'skycon-twitter-reply' : \"&#xf101;\",\n        'skycon-chevron' : \"&#xf102;\",\n        'skycon-facebook' : \"&#xf103;\",\n        'skycon-remote-record' : \"&#xf104;\",\n        'skycon-warning' : \"&#xf105;\",\n        'skycon-carousel-play' : \"&#xf106;\",\n        'skycon-user-profile' : \"&#xf107;\",\n        'skycon-search' : \"&#xf108;\",\n        'skycon-twitter-retweet' : \"&#xf109;\",\n        'skycon-volume' : \"&#xf10a;\",\n        'skycon-twitter-favourite' : \"&#xf10b;\",\n        'skycon-expand' : \"&#xf10c;\",\n        'skycon-carousel-pause' : \"&#xf10d;\",\n        'skycon-share' : \"&#xf10e;\",\n        'skycon-never-miss' : \"&#xf10f;\",\n        'skycon-mail' : \"&#xf110;\",\n        'skycon-sky-go' : \"&#xf111;\",\n        'skycon-twitter-follow' : \"&#xf112;\",\n        'skycon-minify' : \"&#xf113;\",\n        'skycon-twitter' : \"&#xf114;\",\n        'skycon-close' : \"&#xf115;\",\n        'skycon-menu' : \"&#xf116;\",\n        'skycon-google-plus' : \"&#xf117;\"\n    };\n\n\n    function supportsPsuedo(){\n        var head = document.getElementsByTagName('head')[0],\n            style = document.createElement('style'),\n            rules = [\n                '#pseudo-test { visibility:hidden; position:absolute; } ',\n                '#pseudo-test:before { content: \"(-:\"; }'\n            ],\n            div = document.createElement('div'),\n            hasBefore = false;\n        style.type = 'text/css';\n\n        if(style.styleSheet){\n            style.styleSheet.cssText = rules.join('');\n        } else {\n            style.appendChild(document.createTextNode(rules.join('')));\n        }\n\n        head.appendChild(style);\n\n        div.id = \"pseudo-test\";\n        document.body.appendChild(div);\n        hasBefore = div.offsetWidth > 0;\n\n        // Clean up\n        style.parentNode.removeChild(style);\n        div.parentNode.removeChild(div);\n        return hasBefore;\n    }\n\n    function addSkycon(el, c){\n        var html = el.innerHTML,\n            entity = icons[c];\n        el.innerHTML = '<span style=\"font-family: \\'skycons\\'\" class=\"ie7-skycon\">' + entity + '</span>' + html;\n    }\n\n    function init(){\n        if (!supportsPsuedo()){\n            var els = document.getElementsByTagName('*'),\n                i, c, el;\n            for (i = 0; ; i += 1) {\n                el = els[i];\n                if(!el) { break; }\n                c = el.className;\n                c = c.match(/skycon-[^\\s'\"]+/);\n                if (c) { addSkycon(el, c[0]); }\n            }\n        }\n    }\n\n    return {\n        add: addSkycon,\n        init: init\n    };\n}());\n\nif (typeof window.define === \"function\" && window.define.amd) {\n    define('utils/skycons', [], function() {\n        return toolkit.skycons;\n    });\n};","\n/**\n purpose:\n to let 'anchor' tags do their job and change the hash in the url for internal links.\n this will execute the associated callback with that hash.\n no onclick events needed.\n **/\nif (typeof toolkit==='undefined') toolkit={};\ntoolkit.hashmanager = (function() {\n\n    var vars = {\n        globalHashList: {},\n        hasLoaded: false,\n        windowLoaded: false,\n        lastExecutor: null,\n        hash: null\n    };\n\n    function bindEvents() {\n        $(window).on('hashchange', onHashChange);\n        var doc_mode = document.documentMode,\n        hashChangeSupport = 'onhashchange' in window && ( doc_mode === undefined || doc_mode > 7 );\n        if (!hashChangeSupport){ //IE7 support\n            vars.hash = document.location.hash;\n            setInterval(function(){\n                if (document.location.hash !== vars.hash){\n                    $(window).trigger( 'hashchange' );\n                }\n            },200);\n        }\n        vars.windowLoaded = true;\n    }\n\n    function onHashChange(hash) {\n        var evt, fn;\n        hash = cleanHash((typeof hash === 'string') ? hash : location.hash);\n        if (hash) {\n            evt = vars.globalHashList[hash];\n            fn = 'callback';\n            vars.lastExecutor = hash;\n        } else if (vars.lastExecutor) {\n            evt = vars.globalHashList[vars.lastExecutor];\n            fn = 'undo';\n        }\n        if (evt && typeof evt[fn] === 'function') {\n            evt[fn](hash);\n        }\n    }\n\n    function remove() {\n        var loc = window.location;\n        if (\"pushState\" in history) {\n            location.hash = '!';\n            history.pushState(\"\", document.title, loc.pathname + loc.search);\n        } else {\n            location.hash = '!';\n        }\n    }\n\n    function change(hash){\n        location.hash = '!' + hash;\n    }\n\n    function register(hashList, callback, undo){\n        var globalHashList = vars.globalHashList;\n        $(hashList).each(function(i, hash) {\n            hash = cleanHash(hash);\n            if (globalHashList[hash]){\n                var err = 'hashManager: hash (' + hash + ') already exists';\n                throw new Error(err);\n            }\n            globalHashList[hash] = {\n                callback: callback,\n                undo: undo\n            };\n\n            if (vars.windowLoaded && hash === cleanHash(location.hash)) {\n                onHashChange(hash);\n            }\n        });\n    }\n\n    function cleanHash(hash) {\n        return hash.replace(/[#!]/g, '');\n    }\n\n    bindEvents();\n\n    return {\n        register: register,\n        change: change,\n        remove: remove,\n        onHashChange: onHashChange,\n        cleanHash: cleanHash\n    };\n}());\n\nif (typeof window.define === \"function\" && window.define.amd) {\n    define('utils/hashmanager', [], function() {\n        return toolkit.hashmanager;\n    });\n};","\nif (typeof toolkit==='undefined') toolkit={};\n\ntoolkit.popup = (function() {\n\n    function open(args) {\n        var url = args.url;\n        var width = args.width || 400;\n        var height = args.height || width;\n        var top = args.top || (screen.height/2)-(height/2);\n        var left = args.left || (screen.width/2)-(width/2);\n        var windowTitle = args.title || 'Sky';\n        return window.open(url, windowTitle, 'top=' + top + ',left=' + left + ',width=' + width + ',height='+ height);\n    }\n\n    function init() {\n        $('body').on('click', '[data-popup]', function(e) {\n            e.preventDefault();\n            var args = $.extend($(this).data('popup'), {url: $(this).attr('href')});\n            open(args);\n        });\n    }\n\n    return {\n        init: init,\n        open: open\n    };\n})();\n\nif (typeof window.define === \"function\" && window.define.amd) {\n    define('utils/popup', [], function() {\n        return toolkit.popup;\n    });\n};","\n/**\n purpose:\n to automatically hook into the bootstrap html and shows/hides tabs.\n Works based registering the tabs 'hash' with the changeTab function.\n no onclick events needed.\n**/\nif (typeof toolkit==='undefined') toolkit={};\ntoolkit.tabs = (function(hash) {\n\n    var $el = {\n        tabContainer: $('section[data-function=tabs]'),\n        tabs: $('section[data-function=tabs] li[role=tab]'),\n        tabTargets: $('section[data-function=tabs] div[role=tabpanel]')\n    };\n    var vars = {\n        rememberState : $el.tabContainer.attr('data-remember-state')==='true'\n    };\n\n    function bindEvents() {\n        if (vars.rememberState){\n            hash.register(getHashList(), changeTab);\n        } else {\n            $el.tabs.on('click', function(e){\n                e.preventDefault();\n                changeTab($(this).find('a').attr('href'));\n            });\n        }\n    }\n\n    function getHashList() {\n        var arrHash = [];\n        $el.tabs.each(function(){\n            arrHash.push($(this).attr('aria-controls'));\n        });\n        return arrHash;\n    }\n\n    function changeTab(controlId){\n        $el.tabTargets.add($el.tabs).removeClass(\"selected\");\n        $('#' + controlId + '-tab').add($(\"#\" + controlId))\n            .addClass('selected');\n    }\n\n    bindEvents();\n\n    return {\n        getHashList: getHashList,\n        changeTab: changeTab\n    };\n\n}(toolkit.hashmanager));\n\n\nif (typeof window.define === \"function\" && window.define.amd) {\n    define('modules/tabs', ['utils/hashmanager'], function() {\n        return toolkit.tabs;\n    });\n};","\nif (typeof toolkit==='undefined') toolkit={};\ntoolkit.share = (function() {\n\n        var $el = {\n            document: $(document),\n            shareCount: $('.share-popup .summary')\n        };\n\n        function bindEvents() {\n            $el.shareCount.on('click keypress', toggleSharePopover);\n        }\n\n        function toggleSharePopover(e) {\n            e.preventDefault();\n            var $section = $(this).parent(),\n                triggerEvents = 'keypress ' + ('ontouchend' in document.documentElement ? 'touchend' : 'click');\n            if(e.type === 'click' || e.type === 'touchend' || (e.type === 'keypress' && e.which === 13)) {\n                $section.toggleClass('active');\n                $el.document.on(triggerEvents, function hidePopover(e) {\n                    if(!$.contains($section[0], e.target)) {\n                        $section.removeClass('active');\n                        $el.document.off(triggerEvents, hidePopover);\n                    }\n                });\n            }\n        }\n\n        function init() {\n            bindEvents();\n        }\n\n        return {\n            init: init,\n            toggleSharePopover: toggleSharePopover\n        };\n    }\n)();\n\nif (typeof window.define === \"function\" && window.define.amd) {\n    define('modules/share', [], function() {\n        return toolkit.share;\n    });\n}\n;","\nif (typeof toolkit==='undefined') toolkit={};\ntoolkit.carousel = (function(window, $) {\n    'use strict';\n\n    // get CSS3 capabilities\n    var has3d = (function() {\n        return ('WebKitCSSMatrix' in window && 'm11' in new window.WebKitCSSMatrix());\n    }());\n    var hasTransform = (function() {\n        var s = document.body.style;\n        return s.transform !== undefined || s.WebkitTransform !== undefined || s.MozTransform !== undefined || s.OTransform !== undefined;\n    }());\n\n    function Carousel(element, options) {\n        this.options = options;\n        this.$viewport = element;\n        this.$slideContainer = element.find('.skycom-carousel-container');\n        this.$slides = this.$slideContainer.find('>');\n        this.currentIndex = 0;\n        this.slideCount = this.$slides.length;\n        this.timerId = false;\n        this.touchReset();\n        this.bindEvents();\n    }\n\n    Carousel.prototype = {\n        unbindTouchEvents: function() {\n            this.$slideContainer.off('touchstart touchmove touchend touchcancel');\n        },\n        bindTouchEvents: function() {\n            this.$slideContainer\n                .on('touchstart', this.touchstart.bind(this))\n                .on('touchmove', this.touchmove.bind(this))\n                .on('touchend', this.touchend.bind(this))\n                .on('touchcancel', this.touchReset.bind(this));\n        },\n        bindEvents: function() {\n            this.bindTouchEvents();\n            this.$slideContainer.find('a').on('click', this.pause.bind(this));\n        },\n        unbindEvents: function() {\n            this.unbindTouchEvents();\n            this.$slideContainer.find('a').off('click');\n        },\n        setOffset: function(percent, animate) {\n            var $container = this.$slideContainer.removeClass(\"animate\");\n            if (animate) $container.addClass(\"animate\");\n            if (has3d) {\n                $container.css(\"transform\", \"translate3d(\"+ percent +\"%,0,0) scale3d(1,1,1)\");\n            } else if (hasTransform) {\n                $container.css(\"transform\", \"translate(\"+ percent +\"%,0)\");\n            } else if (animate) {\n                $container.animate({'left': (percent*2) + '%'}, 600);\n            } else {\n                $container.css({'left': (percent*2) + '%'});\n            }\n            return this;\n        },\n        moveSlide : function(opts){//index, start, end, callback, reverse\n            var self = this,\n                $slides = this.$slides,\n                cssFloat, indexToShow;\n\n            indexToShow = (opts.index >= this.slideCount)?0:(opts.index < 0) ? this.slideCount - 1 : opts.index;\n            cssFloat = (opts.index>this.currentIndex && !opts.reverse) ? 'left' : 'right';\n\n            $slides.filter(':not(:eq(' + this.currentIndex + '))').hide();\n            $slides.eq(this.currentIndex).css('float', cssFloat);\n            $slides.eq(indexToShow).show().css('float', cssFloat == 'left' ? 'right' : 'left');\n\n            this.setOffset(opts.start, false);\n            if (typeof opts.end !== 'undefined'){\n                setTimeout(function(){\n                    self.setOffset(opts.end, true);\n                    self.$viewport.trigger('change', indexToShow);\n                }, 20);\n                this.currentIndex = indexToShow;\n                if (typeof opts.callback == 'function') opts.callback(indexToShow);\n            }\n            return indexToShow;\n        },\n        goto: function(slideIndex, pause, callback) {\n            if (pause !== false) this.pause();\n            if (slideIndex===this.currentIndex) { return; }\n\n            if ((slideIndex>this.currentIndex)) {\n                this.moveSlide({index: slideIndex, start:0, end:-50, callback:callback});\n            } else{\n                this.moveSlide({index: slideIndex, start:-50, end: 0, callback:callback});\n            }\n            return this;\n        },\n        next: function(pause, callback) {\n            this.goto(this.currentIndex + 1, pause, callback);\n            this.$viewport.find('.indicators, .actions').css('display', 'block');\n            return this;\n        },\n        previous: function() {\n            this.goto(this.currentIndex - 1);\n            this.$viewport.find('.indicators, .actions').css('display', 'block');\n            return this;\n        },\n        play: function(callback, delay) {\n            var self = this,\n                interval = this.options.interval;\n\n            self.timerId = setTimeout(function() { //timeout for small delay after pressing pay button\n                self.next(false);\n                self.timerId = setTimeout(function loop() {  //timeout interval between slides\n                    self.next(false, function() {\n                        self.timerId = setTimeout(loop, interval);\n                    });\n                }, interval);\n            }, delay || this.options.onPlayDelay);\n\n            this.$viewport.trigger('playing');\n            if (typeof callback == 'function') callback();\n            return this;\n        },\n        pause: function(callback) {\n            clearTimeout(this.timerId);\n\n            this.$viewport.trigger('paused');\n            if (typeof callback == 'function') callback();\n            return this;\n        },\n        touchstart: function(e) {\n            var touch = e.originalEvent.touches[0];\n            this.pause();\n            this.swipe.start = {x: touch.pageX, y:touch.pageY};\n        },\n        touchmove: function(e) {\n            var swipe = this.swipe,\n                touch = e.originalEvent.touches[0],\n                xDifference = touch.pageX - swipe.start.x,\n                yDifference = touch.pageY - swipe.start.y,\n                scrollingCarousel = Math.abs(xDifference) > Math.abs(yDifference),\n                slideIndex = xDifference<0?this.currentIndex+1:this.currentIndex- 1,\n                positionAsPercentage;\n\n            if (!swipe.start || scrollingCarousel===false) return;\n            e.preventDefault();\n\n            positionAsPercentage = (xDifference / this.$slideContainer.outerWidth(true)) * 100;\n            if (xDifference>0) positionAsPercentage -=50;\n            this.swipe.positionAsPercentage = positionAsPercentage;\n\n            this.moveSlide({index:slideIndex,start:positionAsPercentage});\n        },\n        touchend: function(e) {\n            if (!this.swipe.start) return;\n            var swipe = this.swipe,\n                position = swipe.positionAsPercentage,\n                touch = e.originalEvent.changedTouches[0],\n                xDifference = touch.pageX - swipe.start.x,\n                direction = null,\n                threshold = 75;\n            if (Math.abs(xDifference) > threshold) {\n                direction = (xDifference < 0) ? 'left' : 'right';\n            }\n\n            if (direction === 'left') {\n                this.moveSlide({\n                    index: this.currentIndex + 1,\n                    start: position,\n                    end: -50\n                });\n                this.$viewport.find('.next').trigger('toolkit.track');\n\n            } else if (direction === 'right') {\n                this.moveSlide({\n                    index: this.currentIndex - 1,\n                    start: position,\n                    end:0\n                });\n                this.$viewport.find('.previous').trigger('toolkit.track');\n\n            } else if (position !== 0) {\n                var start = (xDifference > 0) ? position + 50 : position,\n                    index = this.currentIndex,\n                    end = 0,\n                    reverse;\n                if (start < 0){\n                    this.currentIndex = (index+1>=this.slideCount) ? 0 : index+1;\n                } else {\n                    this.currentIndex -= 1;\n                    end = -50;\n                    start -= 50;\n                }\n                reverse = this.currentIndex===0 && index === this.slideCount-1;\n                this.moveSlide({\n                    index: index,\n                    start: start,\n                    end: end,\n                    reverse: reverse\n                });\n            }\n            this.touchReset();\n        },\n        touchReset: function() {\n            this.swipe = {\n                start: false,\n                positionAsPercentage: 0\n            };\n        }\n    };\n\n    function Video(carousel, options) {\n        this.carousel = carousel;\n        this.wrapper = carousel.$viewport.find('.video-wrapper');\n        this.wrapper.attr('id', 'video-' + options.videoId);\n        this.videocontrolcontainer = carousel.$viewport.find('.videocontrolcontainer');\n        this.player = carousel.$viewport.find('video');\n        this.videocontrolcontainer.find('img').on('error', function() {\n            this.src = options.placeHolderImage;\n        });\n        this.options = options;\n        this.bindEvents();\n    }\n\n    Video.prototype = {\n        bindEvents: function(){\n            var $self = this,\n                hijackLink = function(e) {\n                    e.preventDefault();\n                },\n                stop = function(e){\n                    $self.stop();\n                    $wrapper.off('click', hijackLink);\n                    return false;\n                },\n                $wrapper = this.wrapper;\n            $wrapper.on('click', hijackLink).find('.close').one('click touchstart', stop);\n            this.player.on('ended webkitendfullscreen', stop);\n        },\n        play: function() {\n            var $self = this,\n                carouselControls = this.carousel.$viewport.find('.actions, .indicators');\n            this.originalHtml = this.videocontrolcontainer.html();\n            this.carousel.pause();\n            this.showCanvas(function() {\n                carouselControls.hide();\n                $self.carousel.unbindTouchEvents();\n                $self.player.sky_html5player($self.options); //todo: move to main video function\n                setTimeout(function(){sky.html5player.play();},1333); //todo: call without setTimeout. S3 breaks as does flash ie8\n//                todo: do both todo's when video team add flash queueing + fixed S3\n            });\n        },\n        stop: function() {\n            var $self = this,\n                carouselControls = this.carousel.$viewport.find('.actions, .indicators');\n            $(window).off('skycom.resizeend', $self.resizeCarousel);\n            sky.html5player.close(this.wrapper);\n            $self.videocontrolcontainer.html($self.originalHtml); //todo: remove once video team fix 'ie 8 repeat play' bug\n            this.hideCanvas( function(){\n                $self.carousel.bindTouchEvents();\n                carouselControls.show();\n            });\n        },\n        showCanvas: function(callback) {\n            var height,\n                $carousel = this.carousel.$viewport,\n                $overlay = $carousel.find('.video-overlay'),\n                $wrapper = $carousel.find('.video-wrapper'),\n                $play = $carousel.find('.play-video'),\n                $close = $carousel.find('.video-wrapper .close'),\n                speed= 500,\n                $self = this;\n\n            this.originalHeight = $carousel.height();\n            $wrapper.addClass('playing-video');\n            $overlay.fadeIn(function() {\n                $play.fadeOut();\n                height = $self.calculateHeightForVideo();\n                $carousel.animate({ height: height }, speed, function() {\n                    $(window).on('skycom.resizeend', $.proxy($self.resizeCarousel, $self));\n                    $wrapper.show();\n                    $overlay.fadeOut(speed, function() {\n                        $close.addClass('active');\n                    });\n                    callback();\n                });\n            });\n        },\n        calculateHeightForVideo: function() {\n            return Math.round((this.carousel.$viewport.width() / 16) * 9);\n        },\n        resizeCarousel: function() {\n            this.carousel.$viewport.animate({ height: this.calculateHeightForVideo() }, 250);\n        },\n        hideCanvas: function(callback) {\n            var $carousel = this.carousel.$viewport,\n                $overlay = $carousel.find('.video-overlay'),\n                $wrapper = $carousel.find('.video-wrapper'),\n                $play = $carousel.find('.play-video'),\n                $close = $carousel.find('.video-wrapper .close'),\n                speed = 500,\n                originalHeight = this.originalHeight;\n            $overlay.fadeIn(speed, function() {\n                $close.removeClass('active');\n                $carousel.animate({ height: originalHeight }, speed, function(){\n                    $carousel.css({ height: 'auto' });\n                    callback();\n                    $play.fadeIn();\n                    $overlay.hide();\n                    $wrapper.fadeOut();\n                    $wrapper.removeClass('playing-video');\n                });\n            });\n        }\n    };\n\n    // jquerify\n    $.fn.skycom_carousel = function(params) {\n        var options = $.extend(true, {\n            carousel: {\n                actions: [\n                    { id: 'play', label: 'Play Carousel' },\n                    { id: 'pause', label: 'Pause Carousel' },\n                    { id: 'previous', label: 'Previous' },\n                    { id: 'next', label: 'Next' }\n                ],\n                autoplay: true,\n                startSlideIndex: 0,\n                onPlayDelay: 500,\n                interval: 6000\n            },\n            video: {\n                token:\"8D5B12D4-E1E6-48E8-AF24-F7B13050EE85\",\n                autoplay: false,\n                videoId: null,\n                freewheel: false, //disable ads\n                placeHolderImage: '//static.video.sky.com/posterframes/skychasky.jpg'\n            }\n        }, params);\n\n        // generating default markup\n        var markup = {\n            actions: function($element, options){\n                var html = '', action, label, i, extraClass,\n                    actions = options.actions,\n                    onclick = options.onclick;\n                if(options.count <= 1) return this;\n                for (i in actions) {\n                    extraClass = '';\n                    action = actions[i].id;\n                    label = actions[i].label;\n                    if (action=='next' || action=='previous'){\n                        extraClass=' hidden-touch ';\n                    }\n                    html += '<a href=\"#\" class=\"skycom-internal ' + extraClass + action + '\" >';\n                    html += '<span class=\"icon-carousel-' + action + '\"></span>' + label;\n                    if (action == 'next' || action == 'previous') {\n                        html += '<span class=\"icon-carousel-' + action + '-over over\"></span>';\n                    }\n                    html += '</a>';\n                }\n                $element.find('.skycom-carousel-container').before('<div class=\"actions\">' + html + '</div>');\n                $element.find('> .actions > *').each(function(index) {\n                    $(this).attr('data-action', actions[index].id).on('click', function(e) {\n                        onclick(actions[index].id);\n                        e.preventDefault();\n                    });\n                });\n                return this;\n            },\n            indicators: function($element, options) {\n\n                var $indicators, i,\n                    count = options.count,\n                    onclick = options.onclick,\n                    html = '<div class=\"indicators\"><div class=\"container\">',\n                    className = ' class=\"active\"';\n                if (count <= 1) return this;\n                for (i = count; i--;) {\n                    html += '<span' + className + ' data-tracking data-tracking-label=\"indicator\"></span>';\n                    className = '';\n                }\n                $indicators = $(html + '</div></div>').on('click', 'span', function(e) {\n                    onclick($(e.currentTarget).index());\n                });\n                $element.append($indicators);\n                return this;\n            },\n            video: function($element) {\n                $element.append('<div class=\"video-overlay\"></div>');\n                return this;\n            }\n        };\n\n        return this.each(function() {\n            var $this = $(this);\n            var carousel = new Carousel($this, options.carousel);\n            var createMarkup = function(carousel) {\n                markup.indicators($this, {\n                    count: carousel.slideCount,\n                    onclick: function(index) {\n                        carousel.goto(index);\n                    }\n                })\n                .actions($this, {\n                    count: carousel.slideCount,\n                    actions: options.carousel.actions,\n                    onclick: function(action) {\n                        carousel[action]();\n                    }\n                })\n                .video($this);\n            };\n\n            createMarkup(carousel);\n\n            $this.on('click', '.play-video', function(e) {\n                e.preventDefault();\n                options.video.videoId = $(this).attr('data-video-id');\n                if (options.carousel.videoAds){\n                    options.video.freewheel = true;\n                }\n                var video = new Video(carousel, options.video);\n                video.play();\n            }).on('change',function(e, index) {\n                index = index || 0;\n                $this.find('.indicators .container > *').removeClass('active').eq(index).addClass('active');\n                carousel.$slides.removeClass('active').find('a').attr('tabindex',-1);\n                carousel.$slides.eq(index).addClass('active').find('a').removeAttr('tabindex');\n            }).on('playing',function() {\n                $this.removeClass('paused').addClass('playing');\n            }).on('paused',function() {\n                $this.removeClass('playing').addClass('paused');\n            }).on('pause',function() {\n                carousel.pause();\n            }).on('play',function() {\n                carousel.play();\n            }).on('refresh',function(e, index) {\n                carousel.$slides = carousel.$slideContainer.find('>');\n                carousel.slideCount = carousel.$slides.length;\n                $this.find('.indicators').remove();\n                $this.find('.actions').remove();\n                $this.find('.video-overlay').remove();\n\n                createMarkup(carousel);\n\n                index = parseInt(index, 10);\n                if (isNaN(index) || index < 0) {\n                    index = 0;\n                } else if (index > (carousel.slideCount - 1)){\n                    index = carousel.slideCount - 1;\n                }\n                if (index > carousel.currentIndex) {\n                    carousel.moveSlide({index: index, start:0, end:-50});\n                } else {\n                    carousel.moveSlide({index: index, start:-50, end: 0});\n                }\n            }).on('keyup',function(e){\n                switch(e.keyCode){\n                    case 9: carousel.pause(); break; //tab\n                    case 37: carousel.previous(); break; //left arrow\n                    case 39: carousel.next(); break; //right arrow\n                }\n            }).find('.toggle-terms').on('click', function(e) {\n                carousel.$viewport.toggleClass('showing-tandcs');\n            });\n            if(carousel.slideCount > 1) {\n                carousel[options.carousel.autoplay === true ? 'play' : 'pause'](false, options.carousel.interval);\n                carousel.goto(options.carousel.startSlideIndex, false);\n                $this.trigger('change');\n            } else {\n                carousel.unbindTouchEvents();\n            }\n        });\n    };\n}(window, jQuery));\n\nif (typeof window.define === \"function\" && window.define.amd) {\n    define('modules/carousel', [], function() {\n        return toolkit.carousel;\n    });\n};","\nif (typeof toolkit==='undefined') toolkit={};\ntoolkit.main = (function() {\n\n    function bindEvents() {\n        var addWindowLoadClass = function() { $(document.body).addClass('window-loaded');},\n            windowLoadTimeout = setTimeout(addWindowLoadClass, 5000);\n\n        $(window).load(function() {\n            clearTimeout(windowLoadTimeout);\n            addWindowLoadClass();\n        });\n    }\n\n    bindEvents();\n\n}());\n\ntoolkit.modules = (function(){\n\n        var init =function(options) {\n            var module;\n            var modulesToInitialize = $.extend({\n                skycons : true,\n                share : true,\n                popup : true\n            }, options);\n            for (module in modulesToInitialize) {\n                if (modulesToInitialize[module] && toolkit[module] && toolkit[module].init) {\n                    toolkit[module].init(modulesToInitialize[module])\n                }\n            }\n        }\n\n        return {\n            init: init\n        }\n    })();\n\nif (typeof window.define === \"function\" && window.define.amd) {\n    define('modules', [], function() {\n        return toolkit.modules;\n    });\n}\n\nif (typeof window.define === \"function\" && window.define.amd) {\n//    explicitly call all js files here to ensure all files are available\n    define('toolkit',[\n        'utils/skycons',\n        'utils/hashmanager',\n        'utils/popup',\n        'modules',\n        'modules/tabs',\n        'modules/share',\n        'modules/carousel'], function(skycons, hashmanager, popup, modules, tabs, share, carousel){\n\n\n        return {\n            modules: modules,\n            skycons: skycons,\n            hashmanager: hashmanager,\n            popup: popup,\n            tabs: tabs,\n            share: share,\n            carousel: carousel\n        };\n    });\n};"]}