"undefined"==typeof toolkit&&(toolkit={}),toolkit.pikaday=function(t,e){var n;if("object"==typeof exports){try{n=require("moment")}catch(i){}module.exports=e(n)}else"function"==typeof define&&define.amd?define(["require"],function(t){var i="moment";return n=t.defined&&t.defined(i)?t(i):void 0,e(n)}):t.Pikaday=e(t.moment)}(this,function(t){var e="function"==typeof t,n=!!window.addEventListener,i=window.document,o=window.setTimeout,a=function(t,e,i,o){n?t.addEventListener(e,i,!!o):t.attachEvent("on"+e,i)},s=function(t,e,i,o){n?t.removeEventListener(e,i,!!o):t.detachEvent("on"+e,i)},r=function(t,e,n){var o;i.createEvent?(o=i.createEvent("HTMLEvents"),o.initEvent(e,!0,!1),o=v(o,n),t.dispatchEvent(o)):i.createEventObject&&(o=i.createEventObject(),o=v(o,n),t.fireEvent("on"+e,o))},u=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},l=function(t,e){return-1!==(" "+t.className+" ").indexOf(" "+e+" ")},h=function(t,e){l(t,e)||(t.className=""===t.className?e:t.className+" "+e)},f=function(t,e){t.className=u((" "+t.className+" ").replace(" "+e+" "," "))},d=function(t){return/Array/.test(Object.prototype.toString.call(t))},c=function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())},m=function(t){return 0===t%4&&0!==t%100||0===t%400},p=function(t,e){return[31,m(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},g=function(t){c(t)&&t.setHours(0,0,0,0)},_=function(t,e){return t.getTime()===e.getTime()},v=function(t,e,n){var i,o;for(i in e)o=void 0!==t[i],o&&"object"==typeof e[i]&&void 0===e[i].nodeName?c(e[i])?n&&(t[i]=new Date(e[i].getTime())):d(e[i])?n&&(t[i]=e[i].slice(0)):t[i]=v({},e[i],n):(n||!o)&&(t[i]=e[i]);return t},y={field:null,bound:void 0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,minDate:null,maxDate:null,yearRange:10,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,numberOfMonths:1,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},onSelect:null,onOpen:null,onClose:null,onDraw:null},D=function(t,e,n){for(e+=t.firstDay;e>=7;)e-=7;return n?t.i18n.weekdaysShort[e]:t.i18n.weekdays[e]},w=function(t,e,n,i,o){if(o)return'<td class="is-empty"></td>';var a=[];return i&&a.push("is-disabled"),n&&a.push("is-today"),e&&a.push("is-selected"),'<td data-day="'+t+'" class="'+a.join(" ")+'"><button class="pika-button" type="button">'+t+"</button>"+"</td>"},b=function(t,e){return"<tr>"+(e?t.reverse():t).join("")+"</tr>"},M=function(t){return"<tbody>"+t.join("")+"</tbody>"},k=function(t){var e,n=[];for(e=0;7>e;e++)n.push('<th scope="col"><abbr title="'+D(t,e)+'">'+D(t,e,!0)+"</abbr></th>");return"<thead>"+(t.isRTL?n.reverse():n).join("")+"</thead>"},x=function(t){var e,n,i,o,a,s=t._o,r=t._m,u=t._y,l=u===s.minYear,h=u===s.maxYear,f='<div class="pika-title">',c=!0,m=!0;for(i=[],e=0;12>e;e++)i.push('<option value="'+e+'"'+(e===r?" selected":"")+(l&&e<s.minMonth||h&&e>s.maxMonth?"disabled":"")+">"+s.i18n.months[e]+"</option>");for(o='<div class="pika-label">'+s.i18n.months[r]+'<select class="pika-select pika-select-month">'+i.join("")+"</select></div>",d(s.yearRange)?(e=s.yearRange[0],n=s.yearRange[1]+1):(e=u-s.yearRange,n=1+u+s.yearRange),i=[];n>e&&e<=s.maxYear;e++)e>=s.minYear&&i.push('<option value="'+e+'"'+(e===u?" selected":"")+">"+e+"</option>");return a='<div class="pika-label">'+u+s.yearSuffix+'<select class="pika-select pika-select-year">'+i.join("")+"</select></div>",f+=s.showMonthAfterYear?a+o:o+a,l&&(0===r||s.minMonth>=r)&&(c=!1),h&&(11===r||s.maxMonth<=r)&&(m=!1),f+='<button class="pika-prev'+(c?"":" is-disabled")+'" type="button">'+s.i18n.previousMonth+"</button>",f+='<button class="pika-next'+(m?"":" is-disabled")+'" type="button">'+s.i18n.nextMonth+"</button>",f+="</div>"},N=function(t,e){return'<table cellpadding="0" cellspacing="0" class="pika-table">'+k(t)+M(e)+"</table>"},T=function(s){var r=this,u=r.config(s);r._onMouseDown=function(t){if(r._v){t=t||window.event;var e=t.target||t.srcElement;if(e){if(!l(e,"is-disabled")){if(l(e,"pika-button")&&!l(e,"is-empty"))return r.setDate(new Date(r._y,r._m,parseInt(e.innerHTML,10))),u.bound&&o(function(){r.hide()},100),void 0;l(e,"pika-prev")?r.prevMonth():l(e,"pika-next")&&r.nextMonth()}if(l(e,"pika-select"))r._c=!0;else{if(!t.preventDefault)return t.returnValue=!1,!1;t.preventDefault()}}}},r._onChange=function(t){t=t||window.event;var e=t.target||t.srcElement;e&&(l(e,"pika-select-month")?r.gotoMonth(e.value):l(e,"pika-select-year")&&r.gotoYear(e.value))},r._onInputChange=function(n){var i;n.firedBy!==r&&(e?(i=t(u.field.value,u.format),i=i&&i.isValid()?i.toDate():null):i=new Date(Date.parse(u.field.value)),r.setDate(c(i)?i:null),r._v||r.show())},r._onInputFocus=function(){r.show()},r._onInputClick=function(){r.show()},r._onInputBlur=function(){r._c||(r._b=o(function(){r.hide()},50)),r._c=!1},r._onClick=function(t){t=t||window.event;var e=t.target||t.srcElement,i=e;if(e){!n&&l(e,"pika-select")&&(e.onchange||(e.setAttribute("onchange","return;"),a(e,"change",r._onChange)));do if(l(i,"pika-single"))return;while(i=i.parentNode);r._v&&e!==u.trigger&&r.hide()}},r.el=i.createElement("div"),r.el.className="pika-single"+(u.isRTL?" is-rtl":""),a(r.el,"mousedown",r._onMouseDown,!0),a(r.el,"change",r._onChange),u.field&&(u.bound?i.body.appendChild(r.el):u.field.parentNode.insertBefore(r.el,u.field.nextSibling),a(u.field,"change",r._onInputChange),u.defaultDate||(u.defaultDate=e&&u.field.value?t(u.field.value,u.format).toDate():new Date(Date.parse(u.field.value)),u.setDefaultDate=!0));var h=u.defaultDate;c(h)?u.setDefaultDate?r.setDate(h,!0):r.gotoDate(h):r.gotoDate(new Date),u.bound?(this.hide(),r.el.className+=" is-bound",a(u.trigger,"click",r._onInputClick),a(u.trigger,"focus",r._onInputFocus),a(u.trigger,"blur",r._onInputBlur)):this.show()};T.prototype={config:function(t){this._o||(this._o=v({},y,!0));var e=v(this._o,t,!0);e.isRTL=!!e.isRTL,e.field=e.field&&e.field.nodeName?e.field:null,e.bound=!!(void 0!==e.bound?e.field&&e.bound:e.field),e.trigger=e.trigger&&e.trigger.nodeName?e.trigger:e.field;var n=parseInt(e.numberOfMonths,10)||1;if(e.numberOfMonths=n>4?4:n,c(e.minDate)||(e.minDate=!1),c(e.maxDate)||(e.maxDate=!1),e.minDate&&e.maxDate&&e.maxDate<e.minDate&&(e.maxDate=e.minDate=!1),e.minDate&&(g(e.minDate),e.minYear=e.minDate.getFullYear(),e.minMonth=e.minDate.getMonth()),e.maxDate&&(g(e.maxDate),e.maxYear=e.maxDate.getFullYear(),e.maxMonth=e.maxDate.getMonth()),d(e.yearRange)){var i=(new Date).getFullYear()-10;e.yearRange[0]=parseInt(e.yearRange[0],10)||i,e.yearRange[1]=parseInt(e.yearRange[1],10)||i}else e.yearRange=Math.abs(parseInt(e.yearRange,10))||y.yearRange,e.yearRange>100&&(e.yearRange=100);return e},toString:function(n){return c(this._d)?e?t(this._d).format(n||this._o.format):this._d.toDateString():""},getMoment:function(){return e?t(this._d):null},setMoment:function(n){e&&t.isMoment(n)&&this.setDate(n.toDate())},getDate:function(){return c(this._d)?new Date(this._d.getTime()):null},setDate:function(t,e){if(!t)return this._d=null,this.draw();if("string"==typeof t&&(t=new Date(Date.parse(t))),c(t)){var n=this._o.minDate,i=this._o.maxDate;c(n)&&n>t?t=n:c(i)&&t>i&&(t=i),this._d=new Date(t.getTime()),g(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),r(this._o.field,"change",{firedBy:this})),e||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(t){c(t)&&(this._y=t.getFullYear(),this._m=t.getMonth(),this.draw())},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(t){isNaN(t=parseInt(t,10))||(this._m=0>t?0:t>11?11:t,this.draw())},nextMonth:function(){++this._m>11&&(this._m=0,this._y++),this.draw()},prevMonth:function(){--this._m<0&&(this._m=11,this._y--),this.draw()},gotoYear:function(t){isNaN(t)||(this._y=parseInt(t,10),this.draw())},setMinDate:function(t){this._o.minDate=t},setMaxDate:function(t){this._o.maxDate=t},draw:function(t){if(this._v||t){var e=this._o,n=e.minYear,i=e.maxYear,a=e.minMonth,s=e.maxMonth;if(this._y<=n&&(this._y=n,!isNaN(a)&&this._m<a&&(this._m=a)),this._y>=i&&(this._y=i,!isNaN(s)&&this._m>s&&(this._m=s)),this.el.innerHTML=x(this)+this.render(this._y,this._m),e.bound&&(this.adjustPosition(),"hidden"!==e.field.type&&o(function(){e.trigger.focus()},1)),"function"==typeof this._o.onDraw){var r=this;o(function(){r._o.onDraw.call(r)},0)}}},adjustPosition:function(){var t,e,n,o=this._o.trigger,a=o,s=this.el.offsetWidth,r=this.el.offsetHeight,u=window.innerWidth||i.documentElement.clientWidth,l=window.innerHeight||i.documentElement.clientHeight,h=window.pageYOffset||i.body.scrollTop||i.documentElement.scrollTop;if("function"==typeof o.getBoundingClientRect)n=o.getBoundingClientRect(),t=n.left+window.pageXOffset,e=n.bottom+window.pageYOffset;else for(t=a.offsetLeft,e=a.offsetTop+a.offsetHeight;a=a.offsetParent;)t+=a.offsetLeft,e+=a.offsetTop;t+s>u&&(t=t-s+o.offsetWidth),e+r>l+h&&(e=e-r-o.offsetHeight),this.el.style.cssText="position:absolute;left:"+t+"px;top:"+e+"px;"},render:function(t,e){var n=this._o,i=new Date,o=p(t,e),a=new Date(t,e,1).getDay(),s=[],r=[];g(i),n.firstDay>0&&(a-=n.firstDay,0>a&&(a+=7));for(var u=o+a,l=u;l>7;)l-=7;u+=7-l;for(var h=0,f=0;u>h;h++){var d=new Date(t,e,1+(h-a)),m=n.minDate&&d<n.minDate||n.maxDate&&d>n.maxDate,v=c(this._d)?_(d,this._d):!1,y=_(d,i),D=a>h||h>=o+a;r.push(w(1+(h-a),v,y,m,D)),7===++f&&(s.push(b(r,n.isRTL)),r=[],f=0)}return N(n,s)},isVisible:function(){return this._v},show:function(){this._v||(this._o.bound&&a(i,"click",this._onClick),f(this.el,"is-hidden"),this._v=!0,this.draw(),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var t=this._v;t!==!1&&(this._o.bound&&s(i,"click",this._onClick),this.el.style.cssText="",h(this.el,"is-hidden"),this._v=!1,void 0!==t&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),s(this.el,"mousedown",this._onMouseDown,!0),s(this.el,"change",this._onChange),this._o.field&&(s(this._o.field,"change",this._onInputChange),this._o.bound&&(s(this._o.trigger,"click",this._onInputClick),s(this._o.trigger,"focus",this._onInputFocus),s(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}}),"function"==typeof window.define&&window.define.amd&&define("utils/pikaday",[],function(){return toolkit.pikaday});
//# sourceMappingURL=pikaday.js.map