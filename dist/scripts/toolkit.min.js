/*! web-toolkit - v2.3.0 - 2014-09-16 */
"undefined"==typeof toolkit&&(toolkit={}),toolkit.polyfill=function(){function a(){"undefined"==typeof Function.prototype.bind&&(Function.prototype.bind=function(a){var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e})}function b(){"undefined"==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})}function c(){"undefined"==typeof Array.prototype.indexOf&&(Array.prototype.indexOf=function(a){var b=this.length>>>0,c=Number(arguments[1])||0;for(c=0>c?Math.ceil(c):Math.floor(c),0>c&&(c+=b);b>c;c++)if(c in this&&this[c]===a)return c;return-1})}function d(){"undefined"==typeof Array.prototype.forEach&&(Array.prototype.forEach=function(a){if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=arguments.length>=2?arguments[1]:void 0,e=0;c>e;e++)e in b&&a.call(d,b[e],e,b)})}function e(){}a(),b(),c(),e(),d()},"function"==typeof window.define&&window.define.amd?define("utils/polyfill",[],function(){return toolkit.polyfill=toolkit.polyfill(),toolkit.polyfill}):toolkit.polyfill=toolkit.polyfill(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.event=function(){function a(a){return a.replace(/\b[a-z]/g,function(){return arguments[0].toUpperCase()})}function b(b,c){var d=!1,e=b.toLowerCase()+c.toLowerCase(),f=a(b.toLowerCase())+a(c.toLowerCase());return j[e]?j[e]:("on"+e in window?d=e:"onwebkit"+e in window?d="webkit"+f:"ono"+e in document.documentElement&&(d="o"+f),d)}function c(){e(window,"resize",function(){clearTimeout(i.resize),i.resize=setTimeout(d,200)})}function d(){g(window,"resizeend"),"undefined"!=typeof $&&$(window).trigger("resizeend")}function e(a,b,c){var d=k[b.toLowerCase()];b=d||b,a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent(b,c)}function f(a,b,c){var d=k[b.toLowerCase()];b=d||b,a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent("on"+b,c)}function g(a,b){var c;document.createEvent?(c=document.createEvent("CustomEvent"),c.initCustomEvent(b,!1,!1,null),a.dispatchEvent(c)):(c=document.createEventObject(),a.fireEvent("on"+b,c))}function h(a){/in/.test(document.readyState)?setTimeout(function(){h(a)},9):a()}var i={resize:null},j={},k={transitionend:b("transition","end"),animationend:b("animation","end")};return c(),{on:e,off:f,emit:g,ready:h}},"function"==typeof window.define&&window.define.amd?define("utils/event",[],function(){return toolkit.event=toolkit.event(),toolkit.event}):toolkit.event=toolkit.event(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.detect=function(a){function b(){a.on(window,"resize",c)}function c(){d(),e()}function d(){var a=s.className.split(" ");for(var b in t){var c=a.indexOf(t[b]);c>-1&&a.splice(c,1)}s.className=a.join(" ")}function e(){var a=s.className.split(" ");a.push(n()?v.has:v.hasNot),a.push(l("mobile")?w.mobile:w.desktop),a.push(m("landscape")?x.landscape:x.portrait),s.className=a.join(" ")}function f(){var a,b,c={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"},d=document.body||document.documentElement,e=document.createElement("div");d.insertBefore(e,null);for(b in c)c.hasOwnProperty(b)&&void 0!==e.style[b]&&(e.style[b]="translate3d(1px,1px,1px)",a=window.getComputedStyle(e).getPropertyValue(c[b]));return d.removeChild(e),r.css.support3D=void 0!==a&&a.length>0&&"none"!==a,r.css.support3D}function g(){var a,b=document.body||document.documentElement,c=document.createElement("p"),d=document.createElement("style"),e='#testbefore:before { content: "before"; }';return d.type="text/css",c.id="testbefore",d.styleSheet?d.styleSheet.cssText=e:d.appendChild(document.createTextNode(e)),b.appendChild(d),b.appendChild(c),a=document.getElementById("testbefore").offsetHeight,b.removeChild(d),b.removeChild(c),r.css.pseudo=a>=1,r.css.pseudo}function h(a,b,c){if(!a)return g();if(!window.getComputedStyle)return!1;var d=window.getComputedStyle(a,":"+b),e=d.getPropertyValue(c);return!e||0!==e.indexOf("'")&&0!==e.indexOf('"')||(e=e.substring(1,e.length-1)),e}function i(a){var b=h(s,a,"content"),c=h(s,a,"font-family");return b&&"normal"!=b?b:c}function j(a){if(r.css[a])return r.css[a];if("support3D"===a)return f(a);var b=s.style;if("string"==typeof b[a])return r.css[a]=!0,!0;a=a.charAt(0).toUpperCase()+a.substr(1);for(var c=0;c<u.length;c++)if("string"==typeof b[u[c]+a])return r.css[a]=!0,r.css[a];return r.css[a]=!1,r.css[a]}function k(a,b){if(!b)return j(a);var c="";return document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(a,"").getPropertyValue(b):a.currentStyle&&(b=b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),c=a.currentStyle[b]),c}function l(a){return r.view=i("after")||"desktop",a?r.view==a:r.view}function m(a){return r.orientation=i("before")||"landscape",a?r.orientation==a:r.orientation}function n(){return r.touch="undefined"!=typeof window.ontouchstart,r.touch}function o(a){return{top:a.getBoundingClientRect().top+window.pageYOffset-document.documentElement.clientTop,left:a.getBoundingClientRect().left+window.pageXOffset-document.documentElement.clientLeft}}function p(a){if(!(a.length<1)){var b=o(a),c=document.documentElement.scrollTop||document.body.scrollTop;return b.top+a.offsetHeight<=c+document.documentElement.clientHeight}}function q(a){if(!(a.length<1)){var b=o(a);return b.left+a.offsetWidth<=document.documentElement.clientWidth}}var r={css:{}},s=document.documentElement,t=["no-touch","touch-device","mobile-view","desktop-view","landscape","portrait"],u=["Moz","Webkit","Khtml","O","ms"],v={hasNot:t[0],has:t[1]},w={mobile:t[2],desktop:t[3]},x={landscape:t[4],portrait:t[5]};return e(),b(),{css:k,touch:n,orientation:m,view:l,pseudo:h,state:r,elementVisibleBottom:p,elementVisibleRight:q,updateDetectionStates:c}},"function"==typeof window.define&&window.define.amd?define("utils/detect",["utils/event"],function(a){return toolkit.detect=toolkit.detect(a),toolkit.detect}):toolkit.detect=toolkit.detect(toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.hashManager=function(){function a(){$(window).on("hashchange",b);var a=document.documentMode,c="onhashchange"in window&&(void 0===a||a>7);c||(j.hash=document.location.hash,setInterval(function(){document.location.hash!==j.hash&&$(window).trigger("hashchange")},200)),j.eventsAlreadyBound=!0}function b(a){var b,c;a=i("string"==typeof a?a:location.hash),a.indexOf("?")>1&&(a=a.split("?")[0]),b=e(a),a&&b?(c="callback",j.lastExecutor=a):j.lastExecutor&&(b=e(j.lastExecutor),c="undo"),b&&"function"==typeof b[c]&&b[c](a)}function c(){var a=window.location;"pushState"in history?(location.hash="!",history.pushState("",document.title,a.pathname+a.search)):location.hash="!"}function d(a){location.hash="!"+a}function e(a){var b,c,d,e=j.globalHashList;for(b in e)if(f(a,b)||f(b,a)){if(!(b.indexOf("/*")>=0)){d=e[b];break}c=e[b]}return d||c}function f(a,b){a=i(a),b=i(b);var c=b.split("/*"),d=0===a.indexOf(c[0])&&c.length>1||a==b;return d}function g(a,c,d){"string"==typeof a&&(a=[a]);var e,g=0,h=a.length;for(g;h>g;g++){if(e=i(a[g]),j.globalHashList[e]){var k="hashManager: hash ("+e+") already exists";throw new Error(k)}j.globalHashList[e]={callback:c,undo:d},j.eventsAlreadyBound&&f(location.hash,e)&&b()}}function h(){j.globalHashList=[]}function i(a){return a.replace(/[#!]/g,"")}var j={globalHashList:{},eventsAlreadyBound:!1,lastExecutor:null,hash:null};return a(),{register:g,change:d,remove:c,onHashChange:b,resetHash:h,cleanHash:i}},"function"==typeof window.define&&window.define.amd?define("utils/hash-manager",[],function(){return toolkit.hashManager=toolkit.hashManager(),toolkit.hashManager}):toolkit.hashManager=toolkit.hashManager(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.popup=function(){function a(a){var b=a.url,c=a.width||400,d=a.height||c,e=a.top||screen.height/2-d/2,f=a.left||screen.width/2-c/2,g=a.title||"Sky";return window.open(b,g,"top="+e+",left="+f+",width="+c+",height="+d)}function b(b){b.preventDefault();var c=$.extend($(this).data("popup"),{url:$(this).attr("href")});a(c)}function c(){$(document).on("click","[data-popup]",b)}return c(),{open:a}},"function"==typeof window.define&&window.define.amd?define("utils/popup",[],function(){return toolkit.popup=toolkit.popup(),toolkit.popup}):toolkit.popup=toolkit.popup(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.toggle=function(a,b){function c(a,b){return p&&a.css({height:b,overflow:"hidden",transition:"height 0.5s ease-in-out"}),a.toggleClass(o,0===b),a}function d(a){var b=!1;if(p){if(a.attr("style")){var c=a.attr("style").split(";");for(var d in c)0===c[d].trim().indexOf("height")&&(b=!0);if(b)return}a.css({height:e(a)})}}function e(a){if(void 0!==a.data("openHeight")&&!l&&!m)return a.data("openHeight");a.parent().append($('<div id="toggle-tmp-height"></div>').append(a.clone().attr("style","").removeClass(o+" transition "))),$("#toggle-tmp-height > div").append('<div class="toggle-clearfix-div clearfix clear" style="padding:1px"></div> '),$("#toggle-tmp-height > div").prepend('<div class="toggle-clearfix-div clearfix clear" style="padding:1px"></div> ');var b=$("#toggle-tmp-height > div").height()-2;if(a.find("img").length>0){var c=a.find(".accordion-content").outerHeight()-2;c>b&&(b=c)}return a.data("openHeight",b),$("#toggle-tmp-height").remove(),$(".toggle-clearfix-div").remove(),b}function f(a){var b=/<\w+>.+?<\/\w+>|<.+\/?>/,c=$(a);return(c.html().match(b)||[]).length===c.find("strong","b","i","em").length?!0:!1}function g(a){if(a.attr("data-toggle-text")){var b=a.find("span"),c=b.length>0?b.first():a,d=f(c)?c.html():c.text();f(c)===!0?c.html(a.attr("data-toggle-text")):c.text(a.attr("data-toggle-text")),c.html(a.attr("data-toggle-text")),a.attr("data-toggle-text",d).attr("data-tracking-label",d)}}function h(a){var b=e(a);c(a,b)}function i(a){d(a),c(a,0)}function j(a,b){"shown"==a?n[b.selector]={state:a,$elementToToggle:b}:delete n[b.selector]}function k(a){var b=a.$elClicked,c=a.$container||$(b.attr("data-toggle")),d=a.action,e=b&&b.attr("data-toggle-state");m=void 0!==a.contentChanged?a.contentChanged:!1,"shown"===e||"hide"==d?(i(c),e="hidden"):(h(c),e="shown"),j(e,c),b||(b=$('[data-toggle="#'+c.attr("id")+'"]')),b&&e!==b.attr("data-toggle-state")&&(g(b,e),b.attr("data-toggle-state",e))}var l=!1,m=!1,n={},o="toggle-hidden",p=a.css("transition");return b.on(window,"resizeend",function(){l=!0;var a,b;for(b in n)if(a=n[b],"shown"===a.state){var d=e(a.$elementToToggle);c(a.$elementToToggle,d)}l=!1}),k},"function"==typeof window.define&&window.define.amd?define("utils/toggle",["utils/detect","utils/event"],function(a,b){return toolkit.toggle=toolkit.toggle(a,b),toolkit.toggle}):toolkit.toggle=toolkit.toggle(toolkit.detect,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.focus=function(){function a(){$(document).on("click keyup",e).on("keydown",d).on("focus","a, input, button, select, *[tabindex]",b).on("blur","a, input, button, select, *[tabindex]",c)}function b(a){g&&$(a.currentTarget).addClass(h)}function c(a){$(a.currentTarget).removeClass(h)}function d(a){var b=window.event?event.keyCode:a.keyCode;9==b&&(g=!0)}function e(a){var b=window.event?event.keyCode:a.keyCode;9==b&&(g=!1)}function f(a){$(a).addClass(h),a.focus()}var g=!1,h="has-focus";return a(),{apply:f,className:h}},"function"==typeof window.define&&window.define.amd?define("utils/focus",[],function(){return toolkit.focus=toolkit.focus(),toolkit.focus}):toolkit.focus=toolkit.focus(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.inPageNav=function(a,b){function c(a){this.$tabContainer=a,this.$tabs=a.find("li[role=tab]"),this.$tabTargets=a.find("div[role=tabpanel]"),this.$showMore=a.find(".dropdown-tab-select .selector"),this.$moreTabsContainer=a.find(".dropdown-tab-select"),this.$moreTabsLink=a.find(".more-tabs"),this.tabSizes={},this.tabStates=[],this.setTabStates(),this.bindEvents(),this.initTabs()}c.prototype={setTabStates:function(){var a=this;this.$tabs.each(function(){a.tabSizes[this.id]=$(this).outerWidth(!0);var b=$(this),c=b.clone(!0).removeClass("selected").removeAttr("aria-controls").removeAttr("aria-label").removeAttr("role").attr("aria-hidden","true"),d=b.hasClass("selected");b.addClass("selected");var e=b.outerWidth(!0);b.toggleClass("selected",d),a.tabStates.push({id:this.id,obj:b,dropdownObj:c,size:e,selected:b.hasClass("selected"),dropped:!1}),a.$moreTabsLink.append(c)})},getSelectedTab:function(){var a=null;return $.each(this.tabStates,function(b,c){return c.selected?(a=c,!1):void 0}),a},setSelectedTab:function(a){var b=null;return $.each(this.tabStates,function(c,d){d.selected=d.id==a,d.id==a&&(b=d)}),b},getDroppedTabs:function(){var a=[];return $.each(this.tabStates,function(b,c){c.dropped&&a.push(c)}),a},setDroppedTabs:function(){var a=this.$moreTabsContainer.show().outerWidth(!0)||44,b=this.$tabContainer.outerWidth(!0)-a,c=0;this.getSelectedTab()&&(c+=this.$tabs.filter("#"+this.getSelectedTab().id).outerWidth(!0)),$.each(this.tabStates,function(a,d){d.selected||(c+=d.size,d.dropped=c>b)})},bindEvents:function(){var c=this;a.register(this.getHashList(),this.changeTab.bind(c));var d=function(a){-1===a.indexOf("/")&&c.changeTab(a)};this.$tabs.on("click",function(){d($(this).find("a").attr("href"))}),this.$moreTabsContainer.find("li").on("click",function(){d($(this).find("a").attr("href"))}),this.$tabs.find("a").on("focus",function(){var a=$(this).closest("li");a.hasClass("dropped")&&c.dropTabsDuringInteraction(a.attr("id")),a.addClass("given-focus")}).on("blur",function(){$(this).closest("li").removeClass("given-focus"),c.$tabs.filter(".dropped-during-interaction").removeClass("dropped-during-interaction"),c.$tabs.filter(".selected.dropped").length&&c.dropTabsDuringInteraction(c.$tabs.filter(".selected.dropped").attr("id"))}),this.$showMore.on("click",function(a){a.preventDefault(),c.toggleShowMore()}),$("body").on("click",this.hideMore.bind(c)),b.on(window,"resizeend",this.initTabs.bind(c))},initTabs:function(){this.setDroppedTabs(),this.setTabVisibility(),this.setDropdownVisibility()},getHashList:function(){var a,b=[];return this.$tabs.each(function(){a=this.getAttribute("aria-controls"),a&&b.push(a)}),b},changeTab:function(a){a=a.replace(/^#!{0,1}/,"");var b=$("#"+a.replace("-tab-contents","")+"-tab"),c=$("#"+a);this.$tabs.filter(".dropped-during-interaction").removeClass("dropped-during-interaction"),this.$tabTargets.add(this.$tabs).removeClass("selected"),this.setSelectedTab(a+"-tab"),b.add(c).addClass("selected"),b.hasClass("dropped")&&(this.setDroppedTabs(),this.setTabVisibility())},hideMore:function(a){$(a.target).closest(this.$showMore).length||this.toggleShowMore("hide")},toggleShowMore:function(a){var b=this.$moreTabsLink.hasClass("dropdown-tab-selected")||"hide"===a?"remove":"add";this.$showMore.add(this.$moreTabsLink)[b+"Class"]("dropdown-tab-selected")},setTabVisibility:function(){$.each(this.tabStates,function(a,b){b.dropped&&!b.selected?(b.obj.addClass("dropped"),b.dropdownObj.removeClass("dropped")):(b.obj.removeClass("dropped"),b.dropdownObj.addClass("dropped"))})},setDropdownVisibility:function(){this.getDroppedTabs().length?this.$moreTabsContainer.show():this.$moreTabsContainer.hide()},dropTabsDuringInteraction:function(a){var b=this,c=b.tabSizes[a],d=0;$.each(b.tabStates,function(a,b){return d+=b.size,b.obj.addClass("dropped-during-interaction"),d>=c?!1:void 0})}},$.fn.inPageNav=function(){return this.each(function(){new c($(this))})}},"function"==typeof window.define&&window.define.amd?define("components/in-page-nav",["utils/hash-manager","utils/event"],function(a,b){return toolkit.inPageNav=toolkit.inPageNav(a,b),toolkit.inPageNav}):toolkit.inPageNav=toolkit.inPageNav(toolkit.hashManager,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.accordion=function(a){function b(a){this.$container=a,this.$headings=a.find(".accordion-heading"),this.bindEvents()}function c(a){a.find("i").toggleClass("rotate-180")}return b.prototype={bindEvents:function(){this.$headings.on("click",this.toggleContent.bind(this))},toggleContent:function(b){b.preventDefault();var d=$(b.currentTarget);a({$elClicked:d}),c(d)}},$.fn.accordion=function(){return this.each(function(){new b($(this))})},b},"function"==typeof window.define&&window.define.amd?define("components/accordion",["utils/toggle"],function(a){return toolkit.accordion(a)}):toolkit.accordion=toolkit.accordion(toolkit.toggle),"undefined"==typeof toolkit&&(toolkit={}),toolkit.datePicker=function(){function a(a,b){return[null,31,c(b)?29:28,31,30,31,30,31,31,30,31,30,31][a]}function b(a,b){var c=new Date(b,a-1,1).getDay();return 0===c?7:c}function c(a){return a%4===0&&a%100!==0||a%400===0}function d(a){return a.toString().length<2?"0"+a:a}function e(a){this.calendarDate=$.extend(g),this.$container=a,this.$day=a.find(".day"),this.$month=a.find(".month"),this.$year=a.find(".year"),this.addCalendarHTML(),this.bindEvents()}var f=["","January","February","March","April","May","June","July","August","September","October","November","December"],g={day:(new Date).getDate(),month:(new Date).getMonth()+1,year:(new Date).getFullYear()};e.prototype={bindEvents:function(){var a=this;a.$calendar.on("click",".date",a.selectDate.bind(a)).on("click",".prev",a.displayPreviousMonth.bind(a)).on("click",".next",a.displayNextMonth.bind(a)),a.$container.on("keyup","input",a.updateCalendarView.bind(a)).on("focus","input",a.show.bind(a)).on("keydown","input",function(b){9==b.keyCode&&a.hide()}),$(document).on("keydown",function(b){27==b.keyCode&&a.hide()}).on("click",function(b){"date-picker"==b.target.className||a.$container.find(b.target).length||a.hide()})},show:function(){this.$calendar.removeClass("hidden")},hide:function(){this.$calendar.addClass("hidden")},addCalendarHTML:function(){var a=$('<div class="calendar hidden" aria-hidden="true"></div>'),b=$('<div class="header"></div>'),c=$('<span class="prev"><i class="skycon-arrow-left"></i></span>'),d=$('<span class="next"><i class="skycon-arrow-right"></i></span>'),e=$("<span data-date></span>"),f=$('<div class="days"><span>M</span><span>T</span><span>W</span><span>T</span><span>F</span><span>S</span><span>S</span></div>'),g=$('<div class="day-container"></div>');b.append(c).append(e).append(d),a.append(b).append(f).append(g),this.$container.append(a),this.$calendar=a,this.$dateDescription=e,this.$dayContainer=g,this.renderCalendar()},renderCalendar:function(){var c=this;c.$dateDescription.text(f[c.calendarDate.month]+" "+c.calendarDate.year),c.fillDays(a(c.calendarDate.month,c.calendarDate.year),b(c.calendarDate.month,c.calendarDate.year))},fillDays:function(a,b){var c=1,d=1,e=this,f=e.calendarDate,h=[],i=[],j=!1,k=!1,l=!1,m=f.month<g.month&&f.year<=g.year||f.year<g.year,n=f.month==g.month&&f.year==g.year,o=f.month==e.$month.val()&&f.year==e.$year.val();for(c;b>c;c++)h.push("<span></span>");for(d;a>=d;d++)i=[],k=d==e.$day.val()&&o,l=d<g.day&&n||m,j=d==g.day&&n,k&&i.push("selected"),l&&i.push("past"),j&&i.push("today"),h.push("<span class='date "+i.join(" ")+"' >"+d+"</span>");e.$dayContainer.html(h.join(""))},selectDate:function(a){var b=this;b.$container.find(".selected").removeClass("selected"),$(a.currentTarget).addClass("selected"),b.calendarDate.day=parseInt(a.currentTarget.textContent||a.currentTarget.innerText,10),b.$day.val(d(b.calendarDate.day)),b.$month.val(d(b.calendarDate.month)),b.$year.val(d(b.calendarDate.year)),b.hide()},displayPreviousMonth:function(){var a=this;1===a.calendarDate.month?(a.calendarDate.month=12,a.calendarDate.year--):a.calendarDate.month--,a.renderCalendar()},displayNextMonth:function(){var a=this;12===a.calendarDate.month?(a.calendarDate.month=1,a.calendarDate.year++):a.calendarDate.month++,a.renderCalendar()},updateCalendarView:function(){var a=this;a.calendarDate.day=parseInt(a.$day.val(),10)||g.day,a.calendarDate.month=parseInt(a.$month.val(),10)||g.month,a.calendarDate.year=parseInt(a.$year.val(),10)||g.year,a.renderCalendar()}},$.fn.datePicker=function(){return this.each(function(){new e($(this))})}},"function"==typeof window.define&&window.define.amd?define("components/date-picker",[],function(){return toolkit.datePicker()}):toolkit.datePicker=toolkit.datePicker(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.validation=function(){function a(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("safari")?-1===a.indexOf("chrome"):!1}function b(a){var b=null;return a.is("[type=checkbox]")?a.is(":checked"):a.is("[type=radio]")?(b=a.parents("form").find('input[name="'+a.attr("name")+'"]')).filter(":checked").length>0:a.val()}function c(a,b){function c(){""===a.value?b.emptyText&&a.setCustomValidity(b.emptyText):a.setCustomValidity("")}function d(){""===a.value?b.emptyText&&a.setCustomValidity(b.emptyText):b.invalidText&&a.setCustomValidity(b.invalidText)}b.emptyText&&a.setCustomValidity(b.defaultText),a.addEventListener("change",c),a.addEventListener("input",c),a.addEventListener("invalid",d)}function d(a){this.$container=a,this.$requiredInputs=a.find("*[required]"),this.$patternInputs=a.find("*[pattern]"),this.errors=[],this.hasError=!1,this.customiseHTML5Messages(),this.bindEvents()}var e=!("required"in document.createElement("input")&&"pattern"in document.createElement("input")&&!a()),f="setCustomValidity"in document.createElement("input");return d.prototype={bindEvents:function(){var a=this;e&&a.$container.on("submit",function(b){a.validate(b)})},customiseHTML5Messages:function(){f&&this.$container.find(".feedback[data-for]").each(function(){var a=document.getElementById($(this).attr("data-for"));new c(a,{invalidText:this.textContent||this.innerText})})},addErrorMessageToInput:function(a){var b=a.attr("id"),c=this.$container.find("label[for="+b+"]"),d=this.$container.find(".feedback[data-for="+b+"]");this.hasError=!0,d.length>0?d.removeClass("hidden"):d=$('<span class="form-error feedback" data-for="'+a.attr("id")+'">'+c.text()+" is required</span>").appendTo(a.closest(".row")),a.hasClass("form-error")||(a.addClass("form-error"),$('<i class="form-error skycon-warning"></i>').insertAfter(a)),this.errors.push(d.first())},removeErrorsFromInput:function(a){var b=a.attr("id"),c=this.$container.find(".feedback[data-for="+b+"]");a.hasClass("form-error")&&(a.removeClass("form-error"),a.next(".skycon-warning").remove()),c.addClass("hidden")},createErrorsAtTop:function(){var a,b='<div id="feedback-list-container" class="row" aria-live="polite"><p><i class="form-error skycon-warning"></i>Please correct the highlighted fields below:</p><ul class="feedback-list">';for(a=0;a<this.errors.length;a++)b+='<li class="form-error">'+this.errors[a].text()+"</li>";b+="</ul></div>",this.$container.prepend(b),window.location.href=window.location.href.split("#")[0]+"#feedback-list-container"},resetErrors:function(){this.hasError=!1,this.errors=[],this.$container.find("#feedback-list-container").remove()},validateRequired:function(a,b){var c=$(b),d=this;""===c.val()?d.addErrorMessageToInput(c):d.removeErrorsFromInput(c)},validatePattern:function(a,c){var d=$(c),e=this,f=d.attr("pattern"),g=new RegExp("^(?:"+f+")$"),h=b(d);h&&!g.test(h)?e.addErrorMessageToInput(d):e.removeErrorsFromInput(d)},validate:function(a){var b=this;b.resetErrors(),this.$requiredInputs.each(this.validateRequired.bind(b)),this.$patternInputs.each(this.validatePattern.bind(b)),b.hasError&&(a.preventDefault(),b.createErrorsAtTop())}},$.fn.validation=function(){return this.each(function(){new d($(this))})},d},"function"==typeof window.define&&window.define.amd?define("utils/validation",[],function(){return toolkit.validation=toolkit.validation(),toolkit.validation}):toolkit.validation=toolkit.validation(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.form=function(){},"function"==typeof window.define&&window.define.amd?define("components/form",["components/date-picker","utils/validation"],function(a,b){return toolkit.form(a,b)}):toolkit.form=toolkit.form(toolkit.datePicker,toolkit.validation),"undefined"==typeof toolkit&&(toolkit={}),toolkit.lightbox=function(a,b,c,d,e){function f(b,c){var d=a(c);d.attr("data-tabindex",d.attr("tabindex")),d.attr("tabindex",-1)}function g(b,c){var d=a(c);d.attr("data-tabindex")?(d.attr("tabindex",d.attr("data-tabindex")),d.removeAttr("data-tabindex")):d.removeAttr("tabindex")}function h(){a("a, input, select, textarea, button, *[tabindex]").each(f)}function i(a){a.find("*[tabindex]").each(g)}function j(a){a&&a.focus()}function k(a,c){a.hasClass(b.className)?b.apply(c[0]):c[0].focus()}function l(){a("body").css({overflow:"hidden","padding-right":(o||q())+"px"})}function m(){a("body").removeAttr("style")}function n(b,c){this.$lightboxLink=a(b),this.href=this.$lightboxLink.attr("href"),this.options=a.extend({},s,c),this.init()}var o,p={main:"lightbox",closing:"lightbox-closing",content:"lightbox-content",closeButton:"lightbox-close",open:"lightbox-open",large:"skycom-10 skycom-offset1",small:"skycom-5 skycom-offset3"},q=function(){var a=document.createElement("div");return a.className="lightbox-scrollbar-measure",document.body.appendChild(a),o=a.offsetWidth-a.clientWidth,document.body.removeChild(a),o},r={waitingForAjax:'<div style="margin:0 auto;width: 150px;"><div class="spinner-blue"><p>Please wait...</p></div></div>',closeButton:'<a class="internal-link '+p.closeButton+' skycon-close" href="#!"><span class="speak">Close</span></a>',container:'<div class="skycom-container lightbox-container clearfix"></div>',contents:'<div class="'+p.content+'" role="dialog"></div>',lightboxWrapper:'<div class="'+p.main+'"></div>'},s={size:"large",closeButtonColour:"white"};n.prototype={init:function(){this.isAjaxRequest="#"!==this.href.substring(0,1);var a=this.getRestfulHash();this.$lightboxLink.on("click",this.open.bind(this)),c.register(a,this.open.bind(this))},getRestfulHash:function(){return this.restfulHash=this.isAjaxRequest?"#!"+this.href.split("#!")[1]:this.href,this.restfulHash},getAjaxContent:function(){var b=this,d=a(r.waitingForAjax);return b.$contents.append(d),a.get(b.href).done(function(a){b.$lightboxLink.attr("href",b.restfulHash),b.href=b.restfulHash,c.change(c.cleanHash(b.href)),d.remove(),b.populate(null,a)}),!1},bindEvents:function(){var b=this;this.$container.on("click",function(c){var d=a(c.target);return d.hasClass(p.closeButton)&&(c.preventDefault(),b.close()),d.closest("a[href]").length?!0:d.closest("."+p.content).length?!1:void b.close()}),d.on(this.$container[0],"animationend",b.onClose.bind(b))},populate:function(b,d){d=d||a("#"+c.cleanHash(this.restfulHash.replace(/\//g,"-"))).removeClass("hidden"),d.length>0?this.$container.find("."+p.content).append(d):(b&&b.preventDefault&&b.preventDefault(),this.getAjaxContent())},create:function(){var b=a(r.lightboxWrapper),c=a(r.contents),d=a(r.container),e=a(r.closeButton).addClass(this.options.closeButtonColour);this.$contents=c,c.attr("aria-labelledby",this.$lightboxLink.id).attr("role","dialog").addClass(p[this.options.size]),c.prepend(e),d.append(c),b.append(d),a("body").append(b),this.$container=b},open:function(a){this.$container||(this.create(),this.populate(a),this.bindEvents()),this.$container.hasClass(p.open)||(this.options.onShow&&this.options.onShow(),l(),this.$container.addClass(p.open),k(this.$lightboxLink,this.$container.find("."+p.closeButton)),h(),i(this.$container))},close:function(){var a=this;this.$container.hasClass(p.closing)||(e.css("animation")||setTimeout(a.onClose.bind(a),500),this.$container.addClass(p.closing),c.remove())},onClose:function(){var b=this;b.$container.hasClass(p.closing)&&(b.$container.removeClass(p.open+" "+p.closing),j(b.$lightboxLink),m(),i(a("body")),b.options.onClose&&b.options.onClose())}},a.fn.lightbox=function(a){return this.each(function(){new n(this,a)})}},"function"==typeof window.define&&window.define.amd?define("components/lightbox",["utils/focus","utils/hash-manager","utils/event","utils/detect"],function(a,b,c,d){return toolkit.lightbox(jQuery,a,b,c,d)}):toolkit.lightbox=toolkit.lightbox(jQuery,toolkit.focus,toolkit.hashManager,toolkit.event,toolkit.detect),"undefined"==typeof toolkit&&(toolkit={}),toolkit.share=function(a){function b(){d.on("click keypress",".share-popup .summary",c)}function c(b){b.preventDefault();var c=$(this).parent(),e=c.parent().find(".popover"),f="keypress "+("ontouchend"in document.documentElement?"touchend":"click");("click"===b.type||"touchend"===b.type||"keypress"===b.type&&13===b.which)&&(c.toggleClass("active"),e.toggleClass("top",!a.elementVisibleBottom(e[0])),e.toggleClass("left",!a.elementVisibleRight(e[0])),d.on(f,function g(a){$.contains(c[0],a.target)||(c.removeClass("active"),d.off(f,g))}))}var d=$(document);return b(),{toggleSharePopover:c}},"function"==typeof window.define&&window.define.amd?define("components/share",["utils/detect"],function(a){return toolkit.share(a)}):toolkit.share=toolkit.share(toolkit.detect),"undefined"==typeof toolkit&&(toolkit={}),toolkit.tooltip=function(a){function b(){$(document).on("mouseenter mouseleave","[data-tooltip]",e),$(document).on("click","[data-tooltip] .tooltip-content",d),$(document).on("touchstart","[data-tooltip]",c)}function c(a){a.preventDefault();$(this).find(".tooltip-content");$(this).find(".tooltip-content").toggleClass("show fade")}function d(a){a.preventDefault(),a.stopPropagation()}function e(a){var b=$(this),c=b.find(".tooltip-content");clearTimeout(c.attr("data-tooltip-entry-timeout")),clearTimeout(c.attr("data-tooltip-exit-timeout")),"mouseenter"==a.type?""!==c.text()&&g(c):h(c)}function f(b){b.toggleClass("top",!a.elementVisibleBottom(b[0]))}function g(a){a.attr("data-tooltip-entry-timeout",setTimeout(function(){a.addClass("show"),setTimeout(function(){a.addClass("fade"),f(a)},15)},500))}function h(a){var b=250;a.attr("data-tooltip-exit-timeout",setTimeout(function(){a.removeClass("fade"),setTimeout(function(){a.removeClass("show top")},b)},300))}b()},"function"==typeof window.define&&window.define.amd?define("components/tooltip",["utils/detect"],function(a){return toolkit.tooltip=toolkit.tooltip(a),toolkit.tooltip}):toolkit.tooltip=toolkit.tooltip(toolkit.detect),"undefined"==typeof toolkit&&(toolkit={}),toolkit.video=function(a,b,c){function d(a,b){if(a.attr("data-video-id")){this.$container=a,this.options={token:b.token,freewheel:b.displayAdverts,autoplay:!1,videoId:a.attr("data-video-id")},this.toolkitOptions={animationSpeed:void 0!==b.animationSpeed?b.animationSpeed:500,onPlay:b.onPlay,closeCallback:b.closeCallback,$wrapperLocation:b.$wrapperLocation||this.$container},this.bindEvents()}}return d.prototype={bindEvents:function(){var a=this;a.$container.on("click",".play-video",function(b){a.createWrapper(),a.play(b)})},bindWrapperEvents:function(){var a=this;b("body").one("keydown",a.stopOnEscape.bind(a)),a.$wrapper.one("click touchstart",".close",a.stop.bind(a)),a.$player.one("ended webkitendfullscreen",a.stop.bind(a)),a.options.freewheel&&a.$player.on("onSlotStarted",function(){a.$player.off("ended webkitendfullscreen"),a.$player.one("onSlotEnded",function(){a.$player.one("playing",function(){a.$player.one("ended webkitendfullscreen",a.stop.bind(a))})})})},createWrapper:function(){this.toolkitOptions.$wrapperLocation.append('<div class="video-wrapper"><a href="#!" class="close"><i class="skycon-close" aria-hidden=true></i><span class="speak">Close</span></a><div class="videocontrolcontainer"><video></video><img class="posterFrame"/></div></div>'),this.toolkitOptions.$wrapperLocation.find(".posterFrame").on("error",function(){this.src=options.placeHolderImage}),this.toolkitOptions.$wrapperLocation.append('<div class="video-overlay"></div>'),this.$player=this.toolkitOptions.$wrapperLocation.parent().find("video"),this.$wrapper=this.toolkitOptions.$wrapperLocation.find(".video-wrapper"),this.$wrapper.attr("id","video-"+this.options.videoId),this.bindWrapperEvents()
},removeWrapper:function(){this.$wrapper.removeClass("playing-video").remove(),this.toolkitOptions.$wrapperLocation.find(".video-overlay").remove()},play:function(a){a&&a.preventDefault();var b=this;b.toolkitOptions.onPlay&&b.toolkitOptions.onPlay(),this.showCanvas(function(){b.$player.sky_html5player(b.options),setTimeout(function(){sky.html5player.play()},1333)})},stopOnEscape:function(a){27===a.keyCode&&(a.preventDefault(),this.stop())},stop:function(b){b&&b.preventDefault();var d=this;c.off(a,"resizeend",d.resizeListener),sky.html5player.close(this.$wrapper),this.hideCanvas()},showCanvas:function(b){var d,e=this.$container,f=this.toolkitOptions.$wrapperLocation,g=f.find(".video-overlay"),h=f.find(".video-wrapper"),i=e.find(".play-video"),j=h.find(".close"),k=0===this.toolkitOptions.animationSpeed?0:this.toolkitOptions.animationSpeed||500,l=this;this.originalHeight=e.height(),h.addClass("playing-video"),g.fadeIn(k,function(){i.fadeOut(k),j.addClass("active"),d=l.calculateHeight(),e.animate({height:d},k,function(){l.resizeListener=l.resizeContainer.bind(l),c.on(a,"resizeend",l.resizeListener),h.show(),g.fadeOut(k),b()})})},calculateHeight:function(){return Math.round(this.$container.width()/16*9)},resizeContainer:function(){this.$container.animate({height:this.calculateHeight()},250)},hideCanvas:function(){var a=this,b=this.$container,c=this.toolkitOptions.$wrapperLocation,d=c.find(".video-overlay"),e=c.find(".video-wrapper"),f=b.find(".play-video"),g=e.find(".close"),h=0===this.toolkitOptions.animationSpeed?0:this.toolkitOptions.animationSpeed||500,i=this.originalHeight;d.fadeIn(h,function(){g.removeClass("active"),b.animate({height:i},h,function(){b.css({height:"auto"}),a.toolkitOptions.closeCallback&&a.toolkitOptions.closeCallback(),f.fadeIn(h),d.hide(),e.fadeOut(h,a.removeWrapper.bind(a))})})}},b.fn.video=function(a){return this.each(function(){new d(b(this),a)})},d},"function"==typeof window.define&&window.define.amd?define("components/video",["utils/event"],function(a){return toolkit.video(window,jQuery,a)}):toolkit.video=toolkit.video(window,jQuery,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.carousel=function(a,b){function c(a,b){this.options=b,this.$viewport=a,this.$slideContainer=a.find(".skycom-carousel-container"),this.$slides=this.$slideContainer.find(".slide"),this.currentIndex=0,this.slideCount=this.$slides.length,this.timerId=!1,this.touchReset(),this.bindEvents(),this.options.video||(this.options.video={displayAdverts:!1}),this.initialiseVideos(this.options.video)}var d=b.css("support3D"),e=b.css("transform"),f=b.css("transition");c.prototype={unbindTouchEvents:function(){this.$slideContainer.off("touchstart touchmove touchend touchcancel")},bindTouchEvents:function(){this.$slideContainer.on("touchstart",this.touchstart.bind(this)).on("touchmove",this.touchmove.bind(this)).on("touchend",this.touchend.bind(this)).on("touchcancel",this.touchReset.bind(this))},bindEvents:function(){this.bindTouchEvents(),this.$slideContainer.on("click","a",this.pause.bind(this)),this.$slideContainer.on("click","figure",function(a){a.target.parentNode.className.indexOf("play-video")>=0||a.target.className.indexOf("play-video")>=0||(document.location=$(this).closest(".slide").find("figcaption a").attr("href"))}),this.$slideContainer.on("mouseenter mouseleave",".slide",function(a){$(this).find("figcaption a").toggleClass("hover","mouseenter"===a.type)})},unbindEvents:function(){this.unbindTouchEvents(),this.$slideContainer.off("click","a"),this.$slideContainer.off("click","figure")},setOffset:function(a,b){var c=this.$slideContainer.removeClass("animate");return b&&c.addClass("animate"),d?c.css("transform","translate3d("+a+"%,0,0) scale3d(1,1,1)"):e&&f?c.css("transform","translate("+a+"%,0)"):b?c.animate({left:2*a+"%"},600):c.css({left:2*a+"%"}),this},toggleTermsContent:function(){this.pause();var a=0===this.$viewport.next(".terms-content").find(".terms").length;this[a?"showTermsContent":"hideTermsContent"]()},showTermsContent:function(){this.$viewport.next(".terms-content").find(".terms").remove();var a=$(this.$slides[this.currentIndex]).find(".terms");a.length&&this.$viewport.next(".terms-content").append(a.clone(!0).removeClass("speak").attr("aria-hidden","true")).fadeIn(200)},hideTermsContent:function(){this.$viewport.next(".terms-content").fadeOut(200,function(){$(this).find(".terms").remove()})},showTermsLink:function(a){this.hideTermsLink();var b=$(this.$slides[a]).find(".terms");b.length&&this.$viewport.find(".terms-link").removeClass("hidden").fadeIn(200)},hideTermsLink:function(){this.$viewport.find(".terms-link").fadeOut(200),this.hideTermsContent()},initialiseVideos:function(a){var b=this;this.$slides.video({$wrapperLocation:b.$viewport,token:a.token||"8D5B12D4-E1E6-48E8-AF24-F7B13050EE85",displayAdverts:a.displayAdverts,onPlay:function(){b.pause(),b.$viewport.find(".actions, .indicators, .terms-link").fadeOut(500)},closeCallback:function(){b.$viewport.find(".actions, .indicators, .terms-link").fadeIn(500)}})},moveSlide:function(a){var b,c,d=this,e=this.$slides;return c=a.index>=this.slideCount?0:a.index<0?this.slideCount-1:a.index,b=a.index>this.currentIndex&&!a.reverse?"left":"right",e.filter(":not(:eq("+this.currentIndex+"))").hide(),e.eq(this.currentIndex).css("float",b),e.eq(c).show().css("float","left"===b?"right":"left"),this.setOffset(a.start,!1),"undefined"!=typeof a.end&&(setTimeout(function(){d.setOffset(a.end,!0),d.showTermsLink(c),d.$viewport.trigger("change",c)},20),this.currentIndex=c,"function"==typeof a.callback&&a.callback(c)),c},"goto":function(a,b,c){return b!==!1&&this.pause(),this.moveSlide(a>this.currentIndex?{index:a,start:0,end:-50,callback:c}:a<this.currentIndex?{index:a,start:-50,end:0,callback:c}:{index:a,start:0,end:0,callback:c}),this},next:function(a,b){return this.goto(this.currentIndex+1,a,b),this.$viewport.find(".indicators, .actions").css("display","block"),this},previous:function(){return this.goto(this.currentIndex-1),this.$viewport.find(".indicators, .actions").css("display","block"),this},play:function(a,b){var c=this,d=this.options.interval;return c.timerId=setTimeout(function(){c.next(!1),c.timerId=setTimeout(function a(){c.next(!1,function(){c.timerId=setTimeout(a,d)})},d)},b||this.options.onPlayDelay),this.$viewport.trigger("playing"),"function"==typeof a&&a(),this},pause:function(a){return clearTimeout(this.timerId),this.$viewport.trigger("paused"),"function"==typeof a&&a(),this},touchstart:function(a){var b=a.originalEvent.touches[0];this.pause(),this.swipe.start={x:b.pageX,y:b.pageY}},touchmove:function(a){var b,c=this.swipe,d=a.originalEvent.touches[0],e=d.pageX-c.start.x,f=d.pageY-c.start.y,g=Math.abs(e)>Math.abs(f),h=0>e?this.currentIndex+1:this.currentIndex-1;c.start&&g!==!1&&(a.preventDefault(),b=e/this.$slideContainer.outerWidth(!0)*100,e>0&&(b-=50),this.swipe.positionAsPercentage=b,this.moveSlide({index:h,start:b}))},touchend:function(a){if(this.swipe.start){var b=this.swipe,c=b.positionAsPercentage,d=a.originalEvent.changedTouches[0],e=d.pageX-b.start.x,f=null,g=75;if(Math.abs(e)>g&&(f=0>e?"left":"right"),"left"===f)this.moveSlide({index:this.currentIndex+1,start:c,end:-50}),this.$viewport.find(".next").trigger("toolkit.track");else if("right"===f)this.moveSlide({index:this.currentIndex-1,start:c,end:0}),this.$viewport.find(".previous").trigger("toolkit.track");else if(0!==c){var h,i=e>0?c+50:c,j=this.currentIndex,k=0;0>i?this.currentIndex=j+1>=this.slideCount?0:j+1:(this.currentIndex-=1,k=-50,i-=50),h=0===this.currentIndex&&j===this.slideCount-1,this.moveSlide({index:j,start:i,end:k,reverse:h})}this.touchReset()}},touchReset:function(){this.swipe={start:!1,positionAsPercentage:0}}},$.fn.skycom_carousel=function(a){var b=$.extend(!0,{actions:[{id:"play",label:"Play Carousel",icon:"carousel-play"},{id:"pause",label:"Pause Carousel",icon:"carousel-pause"},{id:"previous",label:"Previous",icon:"chevron-left",speak:!0},{id:"next",label:"Next",icon:"chevron",speak:!0}],autoplay:!0,startSlideIndex:0,onPlayDelay:500,interval:6e3},a),d={actions:function(a,b){var c,d,e,f,g,h,i="",j=b.actions,k=b.onclick;if(b.count<=1)return this;for(e=0;e<j.length;e++)h=j[e],c=h.id,f="next"==c||"previous"==c?" hidden-touch ":"",g="skycon-"+h.icon,d=h.speak?'<span class="speak">'+h.label+"</span>":h.label,i+='<a href="#" class="skycom-internal supportive '+f+c+'" >',i+='<span class="semi-circle"><i class="'+g+'" aria-hidden="true"></i></span>'+d,i+="</a>";return a.find(".skycom-carousel-container").before('<div class="actions">'+i+"</div>"),a.find("> .actions > *").each(function(a){$(this).attr("data-action",j[a].id).on("click",function(b){k(j[a].id),b.preventDefault()})}),this},indicators:function(a,b){var c,d,e=b.count,f=b.onclick,g='<div class="indicators"><div class="container">',h=' class="active"';if(e>1)for(d=e;d--;)g+="<span"+h+' data-tracking data-tracking-label="indicator"></span>',h="";return c=$(g+"</div></div>").on("click","span",function(a){f($(a.currentTarget).index())}),a.append(c),this},terms:function(a){var b=$('<a href="#!" class="terms-link carousel-content cushioned hidden black internal-link supportive" aria-hidden="true">Terms and Conditions</a>'),c=$('<div class="terms-content carousel-content cushioned"></div>').hide();return a.find(".terms").length&&(a.append(b),a.after(c),a.addClass("has-terms")),this},video:function(a){return a.append('<div class="video-overlay"></div>'),this}};return this.each(function(){var a=$(this),e=new c(a,b),f=function(c){d.indicators(a,{count:c.slideCount,onclick:function(a){a!==c.currentIndex?c.goto(a,!0):c.pause()}}).terms(a).actions(a,{count:c.slideCount,actions:b.actions,onclick:function(a){c[a]()}})};f(e),a.on("click",".terms-link",function(){e.toggleTermsContent()}).on("change",function(b,c){c=c||0,a.find(".indicators .container > *").removeClass("active").eq(c).addClass("active"),e.$slides.removeClass("active").find("a").attr("tabindex",-1),e.$slides.eq(c).addClass("active").find("a").removeAttr("tabindex")}).on("playing",function(){a.removeClass("paused").addClass("playing")}).on("paused",function(){a.removeClass("playing").addClass("paused")}).on("pause",function(){e.pause()}).on("play",function(){e.play()}).on("goto",function(a,b){e.goto(b,!0)}).on("refresh",function(c,d){e.$slideContainer=e.$viewport.find(".skycom-carousel-container"),e.$slides=e.$slideContainer.find(">"),e.slideCount=e.$slides.length,a.find(".indicators").remove(),a.find(".actions").remove(),a.find(".video-overlay").remove(),d=parseInt(d,10),d=isNaN(d)||0>d?0:d,d=d>e.slideCount-1?e.slideCount-1:d,e.goto(d,!0),e.unbindEvents(),e.bindEvents(),f(e),e[b.autoplay===!0?"play":"pause"](!1,b.interval)}).on("keyup",function(a){switch(a.keyCode){case 9:e.pause();break;case 37:e.previous();break;case 39:e.next()}}).find(".toggle-terms").on("click",function(){e.$viewport.toggleClass("showing-tandcs")}),e.slideCount>1?(e[b.autoplay===!0?"play":"pause"](!1,b.interval),e.goto(b.startSlideIndex,!1),e.showTermsLink(0),a.trigger("change")):(e.showTermsLink(0),e.unbindTouchEvents())})}},"function"==typeof window.define&&window.define.amd?define("components/carousel",["components/video","utils/detect"],function(a,b){return toolkit.carousel(a,b)}):toolkit.carousel=toolkit.carousel(toolkit.video,toolkit.detect),"function"==typeof window.define&&window.define.amd&&define("toolkit",["utils/polyfill","utils/detect","utils/hash-manager","utils/popup","utils/toggle","utils/focus","utils/event","components/in-page-nav","components/accordion","components/form","components/lightbox","components/share","components/tooltip","components/video","components/carousel"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){return{polyfill:a,detect:b,hashManager:c,popup:d,toggle:e,focus:f,validation:g,event:h,inPageNav:i,accordion:j,datePicker:k,lightbox:l,share:m,tooltip:n,video:o,carousel:p}});